<html>
  <meta charset="utf-8" />
  <style>
    ul {
      list-style-type: none;
    }
  </style>

  <script
    src="https://code.jquery.com/jquery-3.4.1.min.js"
    integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
    crossorigin="anonymous"
  ></script>
  <link
    rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
    crossorigin="anonymous"
  />

  <body>
    <h1>List of items</h1>
    <div class="container">
      <div class="row">
        <div id="Alice" class="col-sm">
          <h2>Alice</h2>
          <ul></ul>
        </div>
        <div id="Aurelie" class="col-sm">
          <h2>Aurelie</h2>
          <ul></ul>
        </div>
        <div id="Romain" class="col-sm">
          <h2>Romain</h2>
          <ul></ul>
        </div>
        <div id="LesParents" class="col-sm">
          <h2>Les parents</h2>
          <ul></ul>
        </div>
      </div>
    </div>
    <div>
      <button id="reset">Reset</button>
    </div>
  </body>

  <script>
    const LOCAL_STORAGE_DATA_KEY = "selectedItems";

    function getSelectedItems() {
      const myStorage = window.localStorage;
      const selectedItems = JSON.parse(
        localStorage.getItem(LOCAL_STORAGE_DATA_KEY)
      );
      return selectedItems;
    }

    function setSelectedItems(items) {
      const myStorage = window.localStorage;
      localStorage.setItem(LOCAL_STORAGE_DATA_KEY, JSON.stringify(items));
    }

    function refreshItems() {
      const items = getSelectedItems();
      $("[data-id]").prop("checked", false);
      if (!!items) {
        for (const item of items) {
          $(`[data-id="${item}"]`).prop("checked", true);
        }
      }
    }

    function resetItems(event) {
      localStorage.removeItem(LOCAL_STORAGE_DATA_KEY);
    }

    function generateLists(itemsToDisplay) {
      const keys = Object.keys(itemsToDisplay);

      for (var i = 0; i < keys.length; i++) {
        const category = keys[i];
        const categoryList = itemsToDisplay[category];
        for (var j = 0; j < categoryList.length; j++) {
          const label = categoryList[j];
          $(`div#${category} ul`).append(
            `<li><input type="checkbox" data-id="${category}-${label}" id="${category}-${label}"/><label for="${category}-${label}">${label}</label></li>`
          );
        }
      }
    }

    $(document).ready(function() {
      generateLists(ITEMS_TO_DISPLAY);

      refreshItems();

      $("li input").change(function(event) {
        const selectedItems = [];
        $("li input:checked").each(function() {
          selectedItems.push($(this).attr("data-id"));
        });
        setSelectedItems(selectedItems);
      });

      $("#reset").click(function(event) {
        event.preventDefault();

        const isSure = confirm("Are you sure?");
        if (isSure == true) {
          resetItems();
          refreshItems();
        }
      });
    });

    const ITEMS_TO_DISPLAY = {
      Aurelie: [
        "Anti-histaminiques",
        "Paracetamol",
        "Mouchoirs",
        "Culottes",
        "Soutien-gorges",
        "Chaussettes",
        "Pyjamas",
        "Pantalons",
        "Hauts",
        "Pulls",
        "Gilets",
        "Produits de beauté",
        "Peigne",
        "Livres",
        "Pilule",
        "Serviettes hygièniques",
        "Kobo",
        "Collants",
        "Robe"
      ],
      Alice: [
        ">> Habillage",
        "Couches",
        "Lingettes",
        "Serviette à langer",
        "Désinfectant main",
        "Liniment Oléo-calcaire",
        "Cottons",
        "Bavoirs",
        "Manteau",
        "Chapeau",
        "Gants",
        "Chaussettes",
        "Pantalons",
        "Hauts",
        "Body manches longues",
        "Body manches courtes",
        "Pyjamas",
        "Gilets",
        "Chaussures",
        ">> Soin:",
        "Mouche-nez",
        "Paracetamol",
        "Bonjela",
        "Spray pour le nez",
        "Crème pour les fesses",
        ">> Bain:",
        "Coupe ongle",
        "Brosse à cheveux",
        "Jouets pour le bain",
        "Gants",
        "Produit pour le bain",
        "Brosse a dents",
        ">> Dodo:",
        "Turbulettes",
        "Tétines",
        "Doudous",
        "Etoile",
        "Piles AA",
        "Veilleuse",
        "Baby phone",
        ">> Manger:",
        "Bavoirs pour manger",
        "Lait en poudre",
        "Petits pots vides en plastiques",
        "Gobelet 360",
        "Biberons",
        "Brosse à laver les biberons",
        "Pastilles à steriliser",
        "Crackers",
        "Petits pots salés",
        "Compotes de fruits",
        "Thermos biberons",
        ">> Utile:",
        "Mousselines",
        "Porte-bébé",
        "Porte-tétine",
        "Jouets pour le trajet",
        "Activités (dessin)",
        "Ficelles jouets poussette",
        "Poussette",
        "Protège-pluie poussette",
        "Livres",
        "Couverture",
        "Oreiller"
      ],
      Romain: [
        "Boxers",
        "Chaussettes",
        "Pantalons",
        "Hauts",
        "Pulls",
        "Gilets",
        "Produits de beauté",
        "Livres",
        "Ordinateur"
      ],
      LesParents: [
        "Tablette (avec des films/séries)",
        "Chargeurs",
        "Brosses à dents",
        "Chargeurs brosses à dents",
        "Passeports",
        "Billets (train ou avion)",
        "Jeux societe (Skull King)",
        "Parapluies",
        "Écouteurs",
        "Mouchoirs",
        "Cadenas",
        "Check-in avion",
        "Adaptateur prise electrique",
        "Batteries",
        "Euros",
        "Lunettes de soleil",
        "Chaussures",
        "Chaussons",
        "Pantalons pour trainer"
      ]
    };
  </script>
</html>
